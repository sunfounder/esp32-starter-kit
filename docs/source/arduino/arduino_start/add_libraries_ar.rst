.. _add_libraries_ar:

1.4 ライブラリのインストール（重要）
======================================

ライブラリとは、Arduino IDEの機能を拡張するための事前に書かれたコードや関数の集まりです。ライブラリを利用することで、様々な機能の用意されたコードを使用でき、複雑な機能のコーディングにかかる時間や労力を節約できます。

ライブラリをインストールする主な方法は2つあります：

ライブラリマネージャーからのインストール
------------------------------------------

多くのライブラリはArduinoライブラリマネージャーを通じて直接利用可能です。ライブラリマネージャーにアクセスするには、次の手順に従ってください：

#. **Library Manager** で、希望のライブラリを名前で検索するか、異なるカテゴリーを閲覧します。

   .. note::

      ライブラリのインストールが必要なプロジェクトでは、どのライブラリをインストールするかを示すプロンプトが表示されます。"ここではDHTセンサーライブラリが使用されていますので、ライブラリマネージャーからインストールしてください"といった指示に従ってください。プロンプトに従って推奨されるライブラリをインストールしてください。

   .. image:: img/install_lib3.png

#. インストールしたいライブラリを見つけたら、それをクリックし、次に **Install** ボタンをクリックします。

   .. image:: img/install_lib2.png

#. Arduino IDEは自動的にライブラリをダウンロードしてインストールします。

.. _install_lib_man:

手動でのインストール
--------------------------

**Library Manager** を通じて利用できないライブラリもあり、それらは手動でインストールする必要があります。これらのライブラリをインストールするには、次の手順に従ってください：


#. Arduino IDEを開き、 **Sketch** -> **Include Library** -> **Add .ZIP Library** に進みます。

   .. image:: img/a2dp_add_zip.png

#. ライブラリファイルが置かれているディレクトリ（例えば ``esp32-starter-kit\c\libraries`` フォルダ）に移動し、希望のライブラリファイル（例えば ``ESP32-A2DP.zip``）を選択してから、 **Open** をクリックします。

   .. image:: img/a2dp_choose.png

#. しばらくすると、インストールが成功したことを示す通知が表示されます。

   .. image:: img/a2dp_success.png

#. ``ESP8266Audio.zip`` ライブラリを追加するには、同じプロセスを繰り返します。


.. note::

   上記のいずれかの方法でインストールしたライブラリは、Arduino IDEのデフォルトのライブラリディレクトリにあります。通常は ``C:\Users\xxx\Documents\Arduino\libraries`` に位置しています。

   ライブラリディレクトリが異なる場合は、 **File** -> **Preferences** に進むことで確認できます。

      .. image:: img/install_lib1.png
