.. note::

    こんにちは、SunFounderのRaspberry Pi & Arduino & ESP32愛好家コミュニティへようこそ！Facebook上でRaspberry Pi、Arduino、ESP32についてもっと深く掘り下げ、他の愛好家と交流しましょう。

    **参加する理由は？**

    - **エキスパートサポート**：コミュニティやチームの助けを借りて、販売後の問題や技術的な課題を解決します。
    - **学び＆共有**：ヒントやチュートリアルを交換してスキルを向上させましょう。
    - **独占的なプレビュー**：新製品の発表や先行プレビューに早期アクセスしましょう。
    - **特別割引**：最新製品の独占割引をお楽しみください。
    - **祭りのプロモーションとギフト**：ギフトや祝日のプロモーションに参加しましょう。

    👉 私たちと一緒に探索し、創造する準備はできていますか？[|link_sf_facebook|]をクリックして今すぐ参加しましょう！

.. _sh_colorful_ball:

2.3 カラフルボール
=====================

このプロジェクトでは、RGB LEDを使用して異なる色を表示します。

ステージエリアの異なる色のボールをクリックすると、RGB LEDが異なる色で点灯します。

.. image:: img/4_color.png

必要な部品
---------------------

このプロジェクトには、以下のコンポーネントが必要です。

全キットを購入すると便利です。こちらがリンクです:

.. list-table::
    :widths: 20 20 20
    :header-rows: 1

    *   - 名前
        - このキットのアイテム
        - リンク
    *   - ESP32 Starter Kit
        - 320+
        - |link_esp32_starter_kit|

下記のリンクから個別に購入することもできます。

.. list-table::
    :widths: 30 20
    :header-rows: 1

    *   - コンポーネントの紹介
        - 購入リンク

    *   - :ref:`cpn_esp32_wroom_32e`
        - |link_esp32_wroom_32e_buy|
    *   - :ref:`cpn_esp32_camera_extension`
        - \-
    *   - :ref:`cpn_breadboard`
        - |link_breadboard_buy|
    *   - :ref:`cpn_wires`
        - |link_wires_buy|
    *   - :ref:`cpn_resistor`
        - |link_resistor_buy|
    *   - :ref:`cpn_rgb`
        - |link_rgb_led_buy|

学べること
---------------------

- RGB LEDの原理
- スプライトのコピーと異なるコスチュームの選択
- 三原色の重ね合わせ


回路の構築
---------------------

RGB LEDは、赤、緑、青の3つのLEDを透明または半透明のプラスチックシェルに封入したものです。3つのピンに入力される電圧を変えて重ね合わせることで、様々な色を表示できます。統計によると、16,777,216色の異なる色を作り出すことができます。

.. image:: img/4_rgb.png
    :width: 300

.. image:: img/circuit/3_color_ball_bb.png

プログラミング
------------------

**1. スプライトの選択**


デフォルトのスプライトを削除し、その後 **Ball** スプライトを選びます。

.. image:: img/4_ball.png

そして、それを5回複製します。

.. image:: img/4_duplicate_ball.png

これら5つの **Ball** スプライトに異なるコスチュームを選び、それぞれの位置に移動させます。

.. note::

    **Ball3** スプライトのコスチュームの色は、手動で赤に変更する必要があります。

.. image:: img/4_rgb1.png
    :width: 800

**2. 適切な色でRGB LEDを点灯させる**

コードを理解する前に、 `RGBカラーモデル <https://en.wikipedia.org/wiki/RGB_color_model>`_ を理解する必要があります。

RGBカラーモデルは、赤、緑、青の光をさまざまな方法で組み合わせて広い範囲の色を再現する加法色モデルです。

加法色混合：赤に緑を加えると黄色になり、緑に青を加えるとシアンになり、青に赤を加えるとマゼンタになり、3つの原色をすべて加えると白になります。

.. image:: img/4_rgb_addition.png
  :width: 400

したがって、RGB LEDが黄色に点灯するコードは以下の通りです。

.. image:: img/4_yellow.png


ステージのボールスプライト（黄色いボール）をクリックすると、ピン27をハイ（赤色LED点灯）、ピン26をハイ（緑色LED点灯）そしてピン25をロー（青色LED消灯）に設定することで、RGB LEDは黄色に点灯します。

他のスプライトに対しても同様の方法でコードを書くことで、RGB LEDを対応する色で点灯させることができます。

**3. ボール2スプライト（水色）**

.. image:: img/4_blue.png

**4. ボール3スプライト（赤）**

.. image:: img/4_red.png

**5. ボール4スプライト（緑）**

.. image:: img/4_green.png

**6. ボール5スプライト（紫）**

.. image:: img/4_purple.png
