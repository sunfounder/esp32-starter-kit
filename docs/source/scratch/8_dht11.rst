.. _sh_humiture:

2.8 Leer Temperatura y Humedad
=================================================

Los proyectos anteriores han utilizado el modo escenario, pero algunas funciones solo están disponibles en el modo de subida, como la función de comunicación serial.
En este proyecto, imprimiremos la temperatura y la humedad del DHT11 utilizando el Monitor Serial en :ref:`upload_mode`.

.. image:: img/11_serial.png

Componentes Necesarios
-------------------------

Para este proyecto, necesitaremos los siguientes componentes.

Es definitivamente conveniente comprar un kit completo, aquí está el enlace:

.. list-table::
    :widths: 20 20 20
    :header-rows: 1

    *   - Nombre	
        - ARTÍCULOS EN ESTE KIT
        - ENLACE
    *   - Kit de Inicio ESP32
        - 320+
        - |link_esp32_starter_kit|

También puedes comprarlos por separado en los enlaces a continuación.

.. list-table::
    :widths: 30 20
    :header-rows: 1

    *   - INTRODUCCIÓN DEL COMPONENTE
        - ENLACE DE COMPRA

    *   - :ref:`cpn_esp32_wroom_32e`
        - |link_esp32_wroom_32e_buy|
    *   - :ref:`cpn_esp32_camera_extension`
        - \-
    *   - :ref:`cpn_breadboard`
        - |link_breadboard_buy|
    *   - :ref:`cpn_wires`
        - |link_wires_buy|
    *   - :ref:`cpn_dht11`
        - |link_dht11_buy|

Lo Que Aprenderás
---------------------

- Obtener la temperatura y la humedad del módulo DHT11
- Monitor Serial para :ref:`upload_mode`
- Añadir extensión

Construye el Circuito
-----------------------

El sensor digital de temperatura y humedad DHT11 es un sensor compuesto que contiene una salida de señal digital calibrada de temperatura y humedad.

Ahora construye el circuito según el siguiente diagrama.

.. image:: img/circuit/9_dht11_bb.png

Programación
------------------

**1. Añadiendo Extensiones**

Cambia a **Modo de Subida**, haz clic en el botón **Añadir Extensión** en la esquina inferior izquierda, luego selecciona **Comunicación** para añadirla, y aparecerá al final del área de la paleta.

.. image:: img/11_addcom.png

**2. Inicializando el ESP32 y el Monitor Serial**

En **Modo de Subida**, inicia el ESP32 y luego establece la tasa de baudios del puerto serie.

* [cuando ESP32 se inicia]: En **Modo de Subida**, inicia el ESP32.
* [establecer tasa de baudios del serial a]: Desde la paleta **Comunicaciones**, se utiliza para establecer la tasa de baudios del puerto serie 0, el predeterminado es 115200. Si estás usando Mega2560, entonces puedes elegir establecer la tasa de baudios en el puerto serie 0~2.

.. image:: img/11_init.png

**3. Leer temperatura y humedad**

Crea 2 variables **tem** y **humi** para almacenar la temperatura y la humedad respectivamente, el código aparecerá en el lado derecho mientras arrastras y sueltas el bloque.

.. image:: img/11_readtem.png

**4. Imprimirlas en el Monitor Serial**

Escribe la temperatura y la humedad leídas en el Monitor Serial. Para evitar transferir demasiado rápido y causar que PictoBlox se atasque, usa el bloque [esperar segundos], para añadir algún intervalo de tiempo para la próxima impresión.

.. image:: img/11_writeserial.png

**5. Subiendo el código**

A diferencia del modo **Escenario**, el código en **Modo de Subida** necesita ser subido a la placa ESP32 usando el botón **Subir Código** para ver el efecto. Esto también te permite desconectar el cable USB y aún tener el programa ejecutándose.

.. image:: img/11_upload.png

**6. Encender el monitor serial**

Ahora abre el **Monitor Serial** para ver la temperatura y la humedad.

.. image:: img/11_serial.png

